{"ast":null,"code":"var _jsxFileName = \"/Users/fordneild/workdir/get-reddit/src/Components/Feed/FeedController.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Feed from \"./index\";\nimport redditFetch from \"../../Services/redditFetch\";\nimport instagramFetch from \"../../Services/instagramFetch\";\n\nconst FeedController = () => {\n  //keep track of all posts we want to show to the user\n  const [posts, setPosts] = useState([]); //on load, set posts\n\n  useEffect(() => {\n    const defaultSubs = [\"memes\", \"funny\", \"AdviceAnimals\", \"dankmemes\", \"ProgrammerHumor\", \"ImGoingToHellForThis\", \"comedyheaven\"];\n    const defaultInstgramSearches = [\"edgymemes\", \"spongebobmemes\"];\n    const defaultInstagramAccounts = [\"thefatjewish\", \"me_irl_bot_\", \"salsa_69memes.v3\", \"surrealslapps\", \"trashcanpaul\"];\n\n    const addPosts = newPosts => {\n      setPosts(prevPosts => {\n        const posts = [...prevPosts, ...newPosts];\n        shuffleArray(posts);\n        return posts;\n      });\n    };\n\n    const loadReddit = async () => {\n      const redditPosts = await redditFetch(defaultSubs);\n      addPosts(redditPosts);\n    };\n\n    const loadInstagram = async () => {\n      const instaPosts = await instagramFetch(defaultInstgramSearches, defaultInstagramAccounts);\n      addPosts(instaPosts);\n    }; //loadInstagramMemes(defaultInstgramSearches,defaultInstagramAccounts);\n\n\n    loadInstagram();\n    loadReddit();\n  }, []);\n\n  const shuffleArray = array => {\n    for (var i = array.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n  };\n\n  const getPosts = n => {\n    const toReturn = posts.slice(0, n);\n    setPosts(prevPosts => {\n      prevPosts.splice(0, n);\n      return prevPosts;\n    });\n    return toReturn;\n  };\n\n  return React.createElement(Feed, {\n    getPosts: getPosts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  });\n};\n\nexport default FeedController;","map":{"version":3,"sources":["/Users/fordneild/workdir/get-reddit/src/Components/Feed/FeedController.js"],"names":["React","useState","useEffect","Feed","redditFetch","instagramFetch","FeedController","posts","setPosts","defaultSubs","defaultInstgramSearches","defaultInstagramAccounts","addPosts","newPosts","prevPosts","shuffleArray","loadReddit","redditPosts","loadInstagram","instaPosts","array","i","length","j","Math","floor","random","temp","getPosts","n","toReturn","slice","splice"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAC3B;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC,CAF2B,CAI3B;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMO,WAAW,GAAG,CAClB,OADkB,EAElB,OAFkB,EAGlB,eAHkB,EAIlB,WAJkB,EAKlB,iBALkB,EAMlB,sBANkB,EAOlB,cAPkB,CAApB;AASA,UAAMC,uBAAuB,GAAG,CAAC,WAAD,EAAa,gBAAb,CAAhC;AACA,UAAMC,wBAAwB,GAAG,CAAC,cAAD,EAAgB,aAAhB,EAA8B,kBAA9B,EAAiD,eAAjD,EAAiE,cAAjE,CAAjC;;AACA,UAAMC,QAAQ,GAAGC,QAAQ,IAAI;AAC3BL,MAAAA,QAAQ,CAACM,SAAS,IAAI;AACpB,cAAMP,KAAK,GAAG,CAAC,GAAGO,SAAJ,EAAe,GAAGD,QAAlB,CAAd;AACAE,QAAAA,YAAY,CAACR,KAAD,CAAZ;AACA,eAAOA,KAAP;AACD,OAJO,CAAR;AAKD,KAND;;AAQA,UAAMS,UAAU,GAAG,YAAY;AAC7B,YAAMC,WAAW,GAAG,MAAMb,WAAW,CAACK,WAAD,CAArC;AACAG,MAAAA,QAAQ,CAACK,WAAD,CAAR;AACD,KAHD;;AAKA,UAAMC,aAAa,GAAG,YAAY;AAChC,YAAMC,UAAU,GAAG,MAAMd,cAAc,CAACK,uBAAD,EAAyBC,wBAAzB,CAAvC;AACAC,MAAAA,QAAQ,CAACO,UAAD,CAAR;AACD,KAHD,CAzBc,CA+Bd;;;AACAD,IAAAA,aAAa;AACbF,IAAAA,UAAU;AACX,GAlCQ,EAkCN,EAlCM,CAAT;;AAoCA,QAAMD,YAAY,GAAGK,KAAK,IAAI;AAC5B,SAAK,IAAIC,CAAC,GAAGD,KAAK,CAACE,MAAN,GAAe,CAA5B,EAA+BD,CAAC,GAAG,CAAnC,EAAsCA,CAAC,EAAvC,EAA2C;AACzC,UAAIE,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBL,CAAC,GAAG,CAArB,CAAX,CAAR;AACA,UAAIM,IAAI,GAAGP,KAAK,CAACC,CAAD,CAAhB;AACAD,MAAAA,KAAK,CAACC,CAAD,CAAL,GAAWD,KAAK,CAACG,CAAD,CAAhB;AACAH,MAAAA,KAAK,CAACG,CAAD,CAAL,GAAWI,IAAX;AACD;AACF,GAPD;;AASA,QAAMC,QAAQ,GAAGC,CAAC,IAAI;AACpB,UAAMC,QAAQ,GAAGvB,KAAK,CAACwB,KAAN,CAAY,CAAZ,EAAeF,CAAf,CAAjB;AACArB,IAAAA,QAAQ,CAACM,SAAS,IAAI;AACpBA,MAAAA,SAAS,CAACkB,MAAV,CAAiB,CAAjB,EAAoBH,CAApB;AACA,aAAOf,SAAP;AACD,KAHO,CAAR;AAIA,WAAOgB,QAAP;AACD,GAPD;;AASA,SAAO,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEF,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CA5DD;;AA8DA,eAAetB,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Feed from \"./index\";\nimport redditFetch from \"../../Services/redditFetch\"\nimport instagramFetch from \"../../Services/instagramFetch\"\n\nconst FeedController = () => {\n  //keep track of all posts we want to show to the user\n  const [posts, setPosts] = useState([]);\n\n  //on load, set posts\n  useEffect(() => {\n    const defaultSubs = [\n      \"memes\",\n      \"funny\",\n      \"AdviceAnimals\",\n      \"dankmemes\",\n      \"ProgrammerHumor\",\n      \"ImGoingToHellForThis\",\n      \"comedyheaven\"\n    ];\n    const defaultInstgramSearches = [\"edgymemes\",\"spongebobmemes\"];\n    const defaultInstagramAccounts = [\"thefatjewish\",\"me_irl_bot_\",\"salsa_69memes.v3\",\"surrealslapps\",\"trashcanpaul\"]\n    const addPosts = newPosts => {\n      setPosts(prevPosts => {\n        const posts = [...prevPosts, ...newPosts];\n        shuffleArray(posts);\n        return posts;\n      });\n    };\n\n    const loadReddit = async () => {\n      const redditPosts = await redditFetch(defaultSubs)\n      addPosts(redditPosts)\n    }\n\n    const loadInstagram = async () => {\n      const instaPosts = await instagramFetch(defaultInstgramSearches,defaultInstagramAccounts)\n      addPosts(instaPosts)\n    }\n\n\n    //loadInstagramMemes(defaultInstgramSearches,defaultInstagramAccounts);\n    loadInstagram()\n    loadReddit()\n  }, []);\n\n  const shuffleArray = array => {\n    for (var i = array.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n  };\n\n  const getPosts = n => {\n    const toReturn = posts.slice(0, n);\n    setPosts(prevPosts => {\n      prevPosts.splice(0, n);\n      return prevPosts;\n    });\n    return toReturn;\n  };\n\n  return <Feed getPosts={getPosts} />;\n};\n\nexport default FeedController;\n"]},"metadata":{},"sourceType":"module"}