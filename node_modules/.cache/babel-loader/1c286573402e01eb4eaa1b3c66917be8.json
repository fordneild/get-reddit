{"ast":null,"code":"var _jsxFileName = \"/Users/fordneild/workdir/get-reddit/src/Components/Form/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport LocalStorage from \"../../Services/LocalStorage\";\nimport \"./Form.scss\";\n\nconst Form = ({\n  LSKey,\n  title,\n  defaults,\n  addPosts,\n  fetchPosts\n}) => {\n  //list entries\n  const [entries, setEntires] = useState({}); //text in input\n\n  const [formData, setFormData] = useState(\"\"); //load entries from local storage on mount\n\n  useEffect(() => {\n    const loadEntires = async () => {\n      const LSEntries = await LocalStorage.get(LSKey);\n\n      if (LSEntries !== undefined) {\n        setEntires(LSEntries);\n      } else {\n        setEntires(defaults);\n      }\n    };\n\n    loadEntires();\n  }, [LSKey, defaults]);\n\n  const refresh = async () => {\n    const LSEntries = await LocalStorage.get(LSKey);\n    setEntires(LSEntries);\n  };\n\n  const handleChange = e => {\n    setFormData(e.target.value);\n  };\n\n  const appendEntry = async entry => {\n    await LocalStorage.set(LSKey, [entry, ...entries]);\n    refresh();\n    const newPosts = await fetchPosts(entry);\n    addPosts(newPosts);\n  };\n\n  const removeEntry = async entryToRemove => {\n    await LocalStorage.set(LSKey, entries.slice(0).filter(entry => entry !== entryToRemove));\n    refresh();\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    appendEntry(formData);\n    setFormData(\"\");\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form--container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, LSKey, \" name: \", \" \", React.createElement(\"input\", {\n    placeholder: \"ProgrammerHumor, memes, EarthPorn\",\n    name: \"sub\",\n    type: \"text\",\n    value: formData,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))), entries && entries.length > 0 && React.createElement(\"ul\", {\n    className: \"entires\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, entries.map((entry, index) => {\n    return React.createElement(\"li\", {\n      key: index,\n      onClick: () => {\n        removeEntry(entry);\n      },\n      className: \"entry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, entry);\n  })));\n};\n\nexport default Form;","map":{"version":3,"sources":["/Users/fordneild/workdir/get-reddit/src/Components/Form/index.js"],"names":["React","useState","useEffect","LocalStorage","Form","LSKey","title","defaults","addPosts","fetchPosts","entries","setEntires","formData","setFormData","loadEntires","LSEntries","get","undefined","refresh","handleChange","e","target","value","appendEntry","entry","set","newPosts","removeEntry","entryToRemove","slice","filter","handleSubmit","preventDefault","length","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport LocalStorage from \"../../Services/LocalStorage\";\nimport \"./Form.scss\";\n\nconst Form = ({ LSKey, title, defaults, addPosts, fetchPosts }) => {\n  //list entries\n  const [entries, setEntires] = useState({});\n  //text in input\n  const [formData, setFormData] = useState(\"\");\n\n  //load entries from local storage on mount\n  useEffect(() => {\n    const loadEntires = async () => {\n      const LSEntries = await LocalStorage.get(LSKey);\n      if (LSEntries !== undefined) {\n        setEntires(LSEntries);\n      } else {\n        setEntires(defaults);\n      }\n    };\n    loadEntires();\n  }, [LSKey, defaults]);\n\n  const refresh = async () => {\n    const LSEntries = await LocalStorage.get(LSKey);\n    setEntires(LSEntries);\n  };\n\n  const handleChange = e => {\n    setFormData(e.target.value);\n  };\n\n  const appendEntry = async entry => {\n    await LocalStorage.set(LSKey, [entry, ...entries]);\n    refresh();\n    const newPosts = await fetchPosts(entry)\n    addPosts(newPosts)\n  };\n\n  const removeEntry = async entryToRemove => {\n    await LocalStorage.set(\n      LSKey,\n      entries.slice(0).filter(entry => entry !== entryToRemove)\n    );\n    refresh();\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    appendEntry(formData);\n    setFormData(\"\");\n  };\n\n  return (\n    <div className=\"form--container\">\n      <form onSubmit={handleSubmit}>\n        <label>\n          {LSKey} name: {\" \"}\n            <input\n            placeholder=\"ProgrammerHumor, memes, EarthPorn\"\n            name=\"sub\"\n            type=\"text\"\n            value={formData}\n            onChange={handleChange}\n          />\n        </label>\n      </form>\n      {entries && entries.length > 0 && (\n        <ul className=\"entires\">\n          {entries.map((entry, index) => {\n            return (\n              <li\n                key={index}\n                onClick={() => {\n                  removeEntry(entry);\n                }}\n                className=\"entry\"\n              >\n                {entry}\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}