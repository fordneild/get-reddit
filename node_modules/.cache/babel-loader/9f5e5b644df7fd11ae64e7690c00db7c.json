{"ast":null,"code":"var _jsxFileName = \"/Users/fordneild/workdir/get-reddit/src/Components/Form/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport LocalStorage from \"../../Services/LocalStorage\";\nimport \"./Form.scss\";\n\nconst Form = ({\n  LSKey,\n  title,\n  defaults,\n  addPosts,\n  fetch\n}) => {\n  //list entries\n  const [entries, setEntires] = useState({}); //text in input\n\n  const [formData, setFormData] = useState(\"\"); //load entries from local storage on mount\n\n  useEffect(() => {\n    const loadEntires = async () => {\n      const LSEntries = await LocalStorage.get(LSKey);\n\n      if (LSEntries !== null) {\n        //entires were in local\n        setEntires(LSEntries);\n      } else {\n        //use defaults\n        setEntires(defaults); //set entires in local\n\n        LocalStorage.set(LSKey, defaults);\n      }\n    };\n\n    loadEntires();\n  }, [LSKey, defaults]);\n\n  const refresh = async () => {\n    const LSEntries = await LocalStorage.get(LSKey);\n    setEntires(LSEntries);\n  };\n\n  const handleChange = e => {\n    setFormData(e.target.value);\n  };\n\n  const appendEntry = async entry => {\n    await LocalStorage.set(LSKey, [entry, ...entries]);\n    refresh();\n    const newPosts = await fetch(entry);\n    addPosts(newPosts);\n  };\n\n  const removeEntry = async entryToRemove => {\n    await LocalStorage.set(LSKey, entries.slice(0).filter(entry => entry !== entryToRemove));\n    refresh();\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    appendEntry(formData);\n    setFormData(\"\");\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form--container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, LSKey, \" name:\", \" \", React.createElement(\"input\", {\n    placeholder: \"ProgrammerHumor, memes, EarthPorn\",\n    name: \"sub\",\n    type: \"text\",\n    value: formData,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }))), entries && entries.length > 0 && React.createElement(\"ul\", {\n    className: \"entires\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, entries.map((entry, index) => {\n    return React.createElement(\"li\", {\n      key: index,\n      onClick: () => {\n        removeEntry(entry);\n      },\n      className: \"entry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, entry);\n  })));\n};\n\nexport default Form;","map":{"version":3,"sources":["/Users/fordneild/workdir/get-reddit/src/Components/Form/index.js"],"names":["React","useState","useEffect","LocalStorage","Form","LSKey","title","defaults","addPosts","fetch","entries","setEntires","formData","setFormData","loadEntires","LSEntries","get","set","refresh","handleChange","e","target","value","appendEntry","entry","newPosts","removeEntry","entryToRemove","slice","filter","handleSubmit","preventDefault","length","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport LocalStorage from \"../../Services/LocalStorage\";\nimport \"./Form.scss\";\n\nconst Form = ({ LSKey, title, defaults, addPosts, fetch }) => {\n  //list entries\n  const [entries, setEntires] = useState({});\n  //text in input\n  const [formData, setFormData] = useState(\"\");\n\n  //load entries from local storage on mount\n  useEffect(() => {\n    const loadEntires = async () => {\n      const LSEntries = await LocalStorage.get(LSKey);\n      if (LSEntries !== null) { \n        //entires were in local\n        setEntires(LSEntries);\n      } else {\n        //use defaults\n        setEntires(defaults);\n        //set entires in local\n        LocalStorage.set(LSKey, defaults);\n      }\n    };\n    loadEntires();\n  }, [LSKey, defaults]);\n\n  const refresh = async () => {\n    const LSEntries = await LocalStorage.get(LSKey);\n    setEntires(LSEntries);\n  };\n\n  const handleChange = e => {\n    setFormData(e.target.value);\n  };\n\n  const appendEntry = async entry => {\n    await LocalStorage.set(LSKey, [entry, ...entries]);\n    refresh();\n    const newPosts = await fetch(entry);\n    addPosts(newPosts);\n  };\n\n  const removeEntry = async entryToRemove => {\n    await LocalStorage.set(\n      LSKey,\n      entries.slice(0).filter(entry => entry !== entryToRemove)\n    );\n    refresh();\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    appendEntry(formData);\n    setFormData(\"\");\n  };\n\n  return (\n    <div className=\"form--container\">\n      <form onSubmit={handleSubmit}>\n        <label>\n          {LSKey} name:{\" \"}\n          <input\n            placeholder=\"ProgrammerHumor, memes, EarthPorn\"\n            name=\"sub\"\n            type=\"text\"\n            value={formData}\n            onChange={handleChange}\n          />\n        </label>\n      </form>\n      {entries && entries.length > 0 && (\n        <ul className=\"entires\">\n          {entries.map((entry, index) => {\n            return (\n              <li\n                key={index}\n                onClick={() => {\n                  removeEntry(entry);\n                }}\n                className=\"entry\"\n              >\n                {entry}\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}