{"ast":null,"code":"var _jsxFileName = \"/Users/fordneild/workdir/get-reddit/src/Components/Settings/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./Settings.scss\";\nimport defaultSubreddits from \"../../assets/defaultSubreddits\";\nimport defaultInstagram from \"../../assets/defaultInstagram\";\nimport LocalStorage from \"../../Services/LocalStorage.js\";\nimport Form from \"../Form/index\";\n\nconst Settings = ({\n  show = false\n}) => {\n  const {\n    terms,\n    accounts\n  } = defaultInstagram;\n  const [subs, setSubs] = useState([]);\n  const [instaTags, setInstaTags] = useState([]);\n  const [instaAccounts, setInstaAccounts] = useState([]);\n  useEffect(() => {\n    const loadSettings = async () => {\n      const checkSetFlag = async () => {\n        const setFlag = await LocalStorage.get(\"setFlag\");\n\n        if (!setFlag) {\n          const initLS = async () => {\n            console.log(\"initalizing LS\");\n            await Promise.all([LocalStorage.set(\"reddit\", defaultSubreddits), LocalStorage.set(\"instaTags\", terms), LocalStorage.set(\"instaAccounts\", accounts)]);\n            LocalStorage.set(\"setFlag\", true);\n          };\n\n          initLS();\n        }\n      };\n\n      const initState = async () => {\n        //blocking is a bad idea but these are so small so i think its ok for now\n        const subreddits = await LocalStorage.get(\"reddit\");\n        setSubs(subreddits);\n        await LocalStorage.get(\"instaTags\", terms);\n        const instagramTags = await LocalStorage.get(\"instaTags\");\n        setInstaTags(instagramTags);\n        await LocalStorage.get(\"instaAccounts\", accounts);\n        const instagramAccounts = await LocalStorage.get(\"instaAccounts\");\n        setInstaAccounts(instagramAccounts);\n      }; //if the user doesnt have local storage going yet, then we intialize it\n\n\n      await checkSetFlag();\n      initState();\n      setSubs();\n    };\n\n    loadSettings();\n  }, []);\n  return React.createElement(\"div\", {\n    className: `settings--container ${show ? \"\" : \"hide\"}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Form, {\n    value: \"reddit\",\n    title: \"subreddits\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(Form, {\n    value: \"instaAccounts\",\n    title: \"accounts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(Form, {\n    value: \"instaTags\",\n    title: \"hashtags\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }));\n};\n\nexport default Settings;","map":{"version":3,"sources":["/Users/fordneild/workdir/get-reddit/src/Components/Settings/index.js"],"names":["React","useEffect","useState","defaultSubreddits","defaultInstagram","LocalStorage","Form","Settings","show","terms","accounts","subs","setSubs","instaTags","setInstaTags","instaAccounts","setInstaAccounts","loadSettings","checkSetFlag","setFlag","get","initLS","console","log","Promise","all","set","initState","subreddits","instagramTags","instagramAccounts"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Settings.scss\";\nimport defaultSubreddits from \"../../assets/defaultSubreddits\";\nimport defaultInstagram from \"../../assets/defaultInstagram\";\n\nimport LocalStorage from \"../../Services/LocalStorage.js\";\nimport Form from \"../Form/index\";\n\nconst Settings = ({ show = false }) => {\n  const { terms, accounts } = defaultInstagram;\n  const [subs, setSubs] = useState([]);\n  const [instaTags, setInstaTags] = useState([]);\n  const [instaAccounts, setInstaAccounts] = useState([]);\n\n\n  useEffect(() => {\n    const loadSettings = async () => {\n      const checkSetFlag = async () => {\n        const setFlag = await LocalStorage.get(\"setFlag\");\n        if (!setFlag) {\n          const initLS = async () => {\n            console.log(\"initalizing LS\");\n            await Promise.all([\n              LocalStorage.set(\"reddit\", defaultSubreddits),\n              LocalStorage.set(\"instaTags\", terms),\n              LocalStorage.set(\"instaAccounts\", accounts)\n            ]);\n\n            LocalStorage.set(\"setFlag\", true);\n          };\n          initLS();\n        }\n      };\n      const initState = async () => {\n            //blocking is a bad idea but these are so small so i think its ok for now\n            const subreddits = await LocalStorage.get(\"reddit\")\n            setSubs(subreddits)\n            await LocalStorage.get(\"instaTags\", terms)\n            const instagramTags = await LocalStorage.get(\"instaTags\")\n            setInstaTags(instagramTags)\n            await LocalStorage.get(\"instaAccounts\", accounts)\n            const instagramAccounts = await LocalStorage.get(\"instaAccounts\")\n            setInstaAccounts(instagramAccounts)\n      }\n      //if the user doesnt have local storage going yet, then we intialize it\n      await checkSetFlag();\n      initState()\n\n      setSubs()\n    };\n    loadSettings()\n  }, []);\n\n  return (\n    <div className={`settings--container ${show ? \"\" : \"hide\"}`}>\n      <Form value=\"reddit\" title={\"subreddits\"} />\n      <Form value=\"instaAccounts\" title={\"accounts\"} />\n      <Form value=\"instaTags\" title={\"hashtags\"} />\n    </div>\n  );\n};\n\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}